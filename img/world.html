<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/world.css">
</head>
<body>
    <div class="dianti">
        <ul>
            <li><a href="#" data-name="one" class="active">江南基地市</a></li>
            <li><a href="#" data-name="two">南岸小区</a></li>
            <li><a href="#" data-name="three">HR联盟</a></li>
            <li><a href="#" data-name="four">旧世界荒野区</a></li>
            <li><a href="#" data-name="five">沿海防卫基地</a></li>
            <li><a href="#" data-name="six">总指挥中心</a></li>
            <li><a href="#" data-name="seven">古文明遗迹</a></li>
            <li><a href="#" data-name="eight">极限武馆</a></li>
            <li><a href="#" data-name="nine">雷电武馆</a></li>
            <li><a href="#" data-name="ten">虬龙星</a></li>
            <li><a href="#" data-name="eleven">宇宙电梯</a></li>
        </ul>
    </div>
    <div id="header">
        <img src="../img/photo/吞噬星空888888.png" alt="" id="logo">
    <div class="daohang">
        <ul>
            <li>
                <a href="../img/index.html">首页</a>
            </li>
            <li>
                <a href="../img/jianjie.html">动漫简介</a>
            </li>
            <li>
                <a href="../img/make.html">动漫制作</a>
            </li>
            <li>
                <a href="../img/xuanji.html">玄机科技</a>
            </li>
            <li>
                <a href="../img/set.html">作品设定</a>
            </li>
            <li>
                <a href="../img/introduce.html">角色介绍</a>
            </li>
           <li>
                <a href="../img/clip.html">超然剪辑</a>
            </li>
            <li>
                <a href="../img/comic.html">相关漫画</a>
            </li>
            <li>
                <a href="../img/news.html">新闻咨询</a>
            </li>
            <li>
                <a href="../img/world.html">世界</a>
            </li>
            <li>
                <a href="../img/register.html" style="margin-left: 220px;">登录</a>
                <img src="../img/photo/登录.png" alt="">
            </li>
        </ul>
    </div>
</div>
<div class="place">
    <ul>
        <li id="map" style="background: url(../img/photo/城市地图.jpeg) no-repeat; background-size: cover; position: relative;">
            <div id="jingzi"></div>
           <div class="big"></div>
         </li>
        <li class="goone" style="background: url(../img/photo/江南基地市场景.jpeg) no-repeat; background-size: cover;">
           <div class="player display">
            <img src="../img/photo/学生徐欣.png" alt="">
           </div>
        </li>
        <li class="gotwo" style="background: url(../img/photo/南岸小区场景.jpeg) no-repeat; background-size: cover;">
            <div class="big"></div>
            <div class="player">
             <img src="../img/photo/学生罗峰.png" alt="" style="width: 1000px;height: 758px;transform: translateX(-300px);">
            </div>
         </li>
         <li class="gothree" style="background: url(../img/photo/HHHRRR联盟.jpeg) no-repeat; background-size: cover;">
            <div class="player">
             <img src="../img/photo/维妮特.png" alt="" style="width: 482px; height: 876px;transform: translateY(-142px); ">
            </div>
         </li>
         <li class="gofour" style="background: url(../img/photo/城市废墟@@@@.jpeg) no-repeat; background-size: cover;">
            <div class="player">
             <img src="../img/photo/朱熹.png" alt="" style="width: 627px; height: 725px; transform: translateX(-100px);">
            </div>
         </li>
         <li class="gofive" style="background: url(../img/photo/防御基地.jpeg) no-repeat; background-size: cover;">
            <div class="player">
             <img src="../img/photo/贾谊.png" alt="" style="width: 1375px; height: 725px; transform: translateX(-415px);">
            </div>
         </li>
         <li class="gosix" style="background: url(../img/photo/总指挥中心.jpeg) no-repeat; background-size: cover;">
            <div class="player">
             <img src="../img/photo/五英雄.png" alt="" style="width: 1153px; height: 801px; transform: translateX(-300px);">
            </div>
         </li>
         <li class="goseven" style="background: url(../img/photo/古文明遗迹.jpeg) no-repeat; background-size: cover;">
            <div class="player">
             <img src="../img/photo/罗峰@@@@.png" alt="" style="width: 1778px; height: 725px; transform: translateX(-300px);">
            </div>
         </li>
         <li class="goeight" style="background: url(../img/photo/极限武馆啊.png) no-repeat; background-size: cover;">
            <div class="player">
             <img src="../img/photo/洪哥6666.png" alt="" style="width: 1300px; height: 725px; transform: translateX(-300px);">
             </div>
         </li>
         <li class="gonine" style="background: url(../img/photo/我也不知道.jpeg) no-repeat; background-size: cover;">
            <div class="player">
             <img src="../img/photo/雷神.png" alt="" style="width: 1250px; height: 746px; transform: translateX(-379px);">
            </div>
         </li>
         <li class="goten" style="background: url(../img/photo/虬龙星.jpg) no-repeat; background-size: cover;">
            <div class="player">
             <img src="../img/photo/恶魔芭芭塔.png" alt="" style="width: 1154px; height: 801px; transform: translateX(-300px);">
            </div>
         </li>
         <li class="goeleven" style="background: url(../img/photo/星际航道.jpg) no-repeat; background-size: cover;">
            <div class="player">
                <img src="../img/photo/阿图卡.png" alt="" style="width: 1400px; height: 725px; transform: translateX(-1332px);">
            </div>
         </li>
    </ul>
    <script>
        const dianti = document.querySelector(".dianti");
        const img = document.querySelector(".place .player");
     /*    window.addEventListener('scroll',function(){
            const n = document.documentElement.scrollTop
            if(n>=2000){
                dianti.style.display = 'block'
            }
            else{
                dianti.style.display = 'none'
            }
        }); */
        (function(){
            const list = document.querySelector(".dianti ul")
            list.addEventListener('click',function(e){
                e.preventDefault()
            if(e.target.tagName == 'A'&& e.target.dataset.name){
                const old = document.querySelector('.active')
                if(old) old.classList.remove('active')
                    e.target.classList.add('active')
                const top = document.querySelector(`.go${e.target.dataset.name}`).offsetTop
                document.documentElement.scrollTop = top
            }
        })
        window.addEventListener('scroll',function(){
            const old = document.querySelector('.active')
            const elder = document.querySelector('.display')
                if(old) old.classList.remove('active')
                if(elder) elder.classList.remove('display')
                    
                    const first = document.querySelector('.goone')
                    const twoth = document.querySelector('.gotwo')
                    const threeth = document.querySelector('.gothree')
                    const fourth = document.querySelector('.gofour')
                    const fiveth = document.querySelector('.gofive')
                    const sixth = document.querySelector('.gosix')
                    const seventh = document.querySelector('.goseven')
                    const eightth = document.querySelector('.goeight')
                    const nineth = document.querySelector('.gonine')
                    const tenth = document.querySelector('.goten')
                    const eleventh = document.querySelector('.goeleven')
                    const n = document.documentElement.scrollTop
                    if(n>=first.offsetTop && n<twoth.offsetTop){
                        document.querySelector('[data-name= one]').classList.add('active')
                        document.querySelector('.goone  .player').classList.add('display')
                    }else if( n >= twoth.offsetTop && n<threeth.offsetTop){
                        document.querySelector('[data-name= two]').classList.add('active')
                        document.querySelector('.gotwo .player').classList.add('display')
                    }else if( n >= threeth.offsetTop && n<fourth.offsetTop){
                        document.querySelector('[data-name= three]').classList.add('active')
                        document.querySelector('.gothree .player').classList.add('display')
                    }else if( n >= fourth.offsetTop && n<fiveth.offsetTop){
                        document.querySelector('[data-name= four]').classList.add('active')
                        document.querySelector('.gofour .player').classList.add('display')
                    }else if( n >= fiveth.offsetTop && n<sixth.offsetTop){
                        document.querySelector('[data-name=five]').classList.add('active')
                        document.querySelector('.gofive .player').classList.add('display')
                    }else if( n >= sixth.offsetTop && n<seventh.offsetTop){
                        document.querySelector('[data-name=six]').classList.add('active')
                        document.querySelector('.gosix .player').classList.add('display')
                    }else if( n >= seventh.offsetTop && n<eightth.offsetTop){
                        document.querySelector('[data-name=seven]').classList.add('active')
                        document.querySelector('.goseven .player').classList.add('display')
                    }else if( n >= eightth.offsetTop && n<nineth.offsetTop){
                        document.querySelector('[data-name=eight]').classList.add('active')
                        document.querySelector('.goeight .player').classList.add('display')
                    }else if( n >= nineth.offsetTop && n<tenth.offsetTop){
                        document.querySelector('[data-name=nine]').classList.add('active')
                        document.querySelector('.gonine .player').classList.add('display')
                    }else if( n >= tenth.offsetTop && n<eleventh.offsetTop){
                        document.querySelector('[data-name=ten]').classList.add('active')
                        document.querySelector('.goten .player').classList.add('display')
                    }else if( n >= eleventh.offsetTop){
                        document.querySelector('[data-name=eleven]').classList.add('active')
                        document.querySelector('.goeleven .player').classList.add('display')
                    }
                })
            })();

            const jingzi = document.querySelector('#jingzi')
            const map = document.querySelector('#map')
            const big = document.querySelector('#map .big')
            map.addEventListener('mouseenter',show)
            map.addEventListener('mouseleave',hide)
            let timeid = 0
            function show(){
                // clearTimeout(timeid)
                big.style.display = 'block'
            }
            function hide(){
               timeid = setTimeout(function(){
                     big.style.display = 'none'
                },200)
            }
           /*  big.addEventListener('mouseenter',show)
            big.addEventListener('mouseleave',hide) */
                map.addEventListener('mousemove',function(e){
                let x = e.pageX - map.getBoundingClientRect().left
                let y = e.pageY - map.getBoundingClientRect().top - document.documentElement.scrollTop
                 if(x>=0 && x<1903 && y>=0 && y<=950){
                let mx = 0,my = 0
                if(x<100) mx = 0
                    if(x>=100 && x<= 1803) mx = x - 100
                    if(x>1803) mx = 1703
                    jingzi.style.left = mx + 'px'

                    if(y<100) my = 0
                    if(y>=100 && y<= 850) my = y - 100
                    if(y>850) my = 750
                    jingzi.style.left = mx + 'px'
                    jingzi.style.top = my + 'px'
                    big.style.backgroundPositionX = -2*mx + 'px'
                    big.style.backgroundPositionY = -2*my + 'px'
            }
            })
            
    </script>
</div>
</body>
</html>